project_name:
  type: str
  default: My Super Cool dbt Project
  help: The name of your project or organization.

project_slug:
  type: str
  default: "{{ project_name | lower | replace(' ', '_') | replace('-', '_') }}"
  help: The slugified name of your project.

profile_name:
  type: str
  default: "{{ project_name | lower | replace(' ', '_') | replace('-', '_') }}"
  help: |
    The name of your default dev profile, this is the set of configs for connecting 
    to your warehouse for development.

data_warehouse:
  type: str
  default: snowflake
  help: The data warehouse, platform, or database you're going to build in.
  choices:
    - snowflake
    - bigquery
    - databricks
    - redshift
    - postgres
    - duckdb

username:
  type: str
  help: The username you log in to your database with.

database:
  type: str
  help: |
    The name of the database *within* your data platform that you want to build into, called a project in Bigquery.

schema:
  type: str
  help: The name of the schema in the database you set, called a dataset in Bigquery.

warehouse:
  type: str
  default: transforming
  help: The name of your default development compute warehouse.
  when: "{{ data_warehouse == 'snowflake' }}"

thread_count:
  type: int
  default: 8
  help: How many threads you want to dbt to run in parallel?

tab_space_size:
  type: int
  default: 4
  help: How many spaces should the default tab alignment be?
  choices:
    - 2
    - 4

comma_alignment:
  type: str
  default: trailing
  help: Leading or trailing commas?
  choices:
    - trailing
    - leading

capitalization:
  type: str
  default: lowercase
  help: Should keywords, functions and other special commands be upper or lowercase?
  choices:
    - lowercase
    - uppercase

group_by_and_order_by_style:
  type: str
  default: implicit
  help: |
    Should group_by and order_by list field names (explicit — group by customer_id) 
    or numbers (implicit — group by 1)?
  choices:
    - implicit
    - explicit

virtual_environment_name:
  type: str
  default: .venv
  help: What do you want your virtual environment to be called?

_tasks:
  - "python3 -m venv {{ virtual_environment_name }}"
  - "source {{ virtual_environment_name }}/bin/activate"
  - "python3 -m pip install uv"
  - "source {{ virtual_environment_name }}/bin/activate"
  - "uv pip install --upgrade pip"
  - "uv pip install -r requirements.txt"
  - "source {{ virtual_environment_name }}/bin/activate"
  - "mkdir -p ~/.dbt && cat profiles.yml >> ~/.dbt/profiles.yml"
  - "rm profiles.yml"
